<!-- build time:Sat May 02 2020 10:45:13 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-koishi.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-koishi.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="baidu-site-verification" content="fIzroGZLqj"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://kaguya.top").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"gitalk",storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="本文介绍了Java8的新特性：Stream流的创建和操作"><meta property="og:type" content="article"><meta property="og:title" content="Java8新特性：Stream"><meta property="og:url" content="https://kaguya.top/2020/03/16/36643/index.html"><meta property="og:site_name" content="「 ディスコミュ星人 」"><meta property="og:description" content="本文介绍了Java8的新特性：Stream流的创建和操作"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-03-16T08:22:26.000Z"><meta property="article:modified_time" content="2020-03-27T01:10:15.585Z"><meta property="article:author" content="Koishi"><meta property="article:tag" content="Java"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://kaguya.top/2020/03/16/36643/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Java8新特性：Stream | 「 ディスコミュ星人 」</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="「 ディスコミュ星人 」" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">「 ディスコミュ星人 」</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div><a href="https://github.com/huben2koishi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://kaguya.top/2020/03/16/36643/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Koishi"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="「 ディスコミュ星人 」"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Java8新特性：Stream</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-03-16 16:22:26" itemprop="dateCreated datePublished" datetime="2020-03-16T16:22:26+08:00">2020-03-16</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-03-27 09:10:15" itemprop="dateModified" datetime="2020-03-27T09:10:15+08:00">2020-03-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>6k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>5 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>Stream</strong> 操作简称流操作，这个流与I/O流没有关系，而是指流式操作</p><p>Stream流操作主要包括三大模块</p><ul><li><p>创建流操作：主要是创建Stream流对象</p></li><li><p>中间流操作：各种中间操作，如去重、过滤、排序等</p></li><li><p>终结流操作：产生最终结果</p></li></ul><h2 id="创建流"><a href="#创建流" class="headerlink" title="创建流"></a>创建流</h2><p>基于数组创建流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] ints = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">IntStream s1 = Arrays.stream(ints);</span><br><span class="line"></span><br><span class="line">Stream&lt;String&gt; s2 = Stream.of(<span class="string">"111"</span>, <span class="string">"222"</span>, <span class="string">"333"</span>);</span><br></pre></td></tr></table></figure><p>通过构造器生成流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Object&gt; s3 = Stream.builder().add(<span class="string">"123"</span>).add(<span class="string">"321"</span>).build();</span><br></pre></td></tr></table></figure><p>基于集合创建流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="string">"123"</span>, <span class="string">"321"</span>, <span class="string">"444"</span>);</span><br><span class="line">Stream&lt;String&gt; s4 = list.stream();</span><br><span class="line">Stream&lt;String&gt; s5 = list.parallelStream(); <span class="comment">// 并行流</span></span><br></pre></td></tr></table></figure><p>创建空流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Object&gt; s6 = Stream.empty();</span><br></pre></td></tr></table></figure><p>基于函数创建流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream.generate(() -&gt; <span class="string">"number"</span> + <span class="keyword">new</span> Random().nextInt()).limit(<span class="number">100</span>).forEach(System.out::println);</span><br><span class="line">Stream.iterate(<span class="number">0</span>, n -&gt; n + <span class="number">2</span>).limit(<span class="number">10</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><h2 id="流中间操作"><a href="#流中间操作" class="headerlink" title="流中间操作"></a>流中间操作</h2><table><thead><tr><th>序号</th><th>操作</th><th>方法</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>filter</td><td>Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate)</td><td>返回当前流中满足参数predicate过滤条件的元素组成的新流</td><td>过滤器</td></tr><tr><td>2</td><td>map</td><td>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper)</td><td>返回通过给定mapper作用于当前流的每个元素之后的结果组成的新流</td><td>函数</td></tr><tr><td>3</td><td>mapToInt</td><td>IntStream mapToInt(ToIntFunction&lt;? super T&gt; mapper)</td><td>返回通过给定mapper作用于当前流的每个元素之后的结果组成的新的Int流</td><td>函数</td></tr><tr><td>4</td><td>mapToLong</td><td>LongStream mapToLong(ToLongFunction&lt;? super T&gt; mapper);</td><td>返回通过给定mapper作用于当前流的每个元素之后的结果组成的新的Long流</td><td>函数</td></tr><tr><td>5</td><td>mapToDouble</td><td>DoubleStream mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper)</td><td>返回通过给定mapper作用于当前流的每个元素之后的结果组成的新的Double流</td><td>函数</td></tr><tr><td>6</td><td>flatMap</td><td>&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</td><td>根据给定的mapper作用于当前流的每个元素，将结果组成新的流来返回</td><td>扁平函数</td></tr><tr><td>7</td><td>flatMapToInt</td><td>IntStream flatMapToInt(Function&lt;? super T, ? extends IntStream&gt; mapper)</td><td>根据给定的mapper作用于当前流的每个元素，将结果组成新的Int流来返回</td><td>扁平函数</td></tr><tr><td>8</td><td>flatMapToLong</td><td>LongStream flatMapToLong(Function&lt;? super T, ? extends LongStream&gt; mapper)</td><td>根据给定的mapper作用于当前流的每个元素，将结果组成新的Long流来返回</td><td>扁平函数</td></tr><tr><td>9</td><td>flatMapToDouble</td><td>DoubleStream flatMapToDouble(Function&lt;? super T, ? extends DoubleStream&gt; mapper)</td><td>根据给定的mapper作用于当前流的每个元素，将结果组成新的Double流来返回</td><td>扁平函数</td></tr><tr><td>10</td><td>distinct</td><td>Stream&lt;T&gt; distinct()</td><td>返回去掉当前流中重复元素之后的新流</td><td>去重</td></tr><tr><td>11</td><td>sorted</td><td>Stream&lt;T&gt; sorted()</td><td>返回当前流中元素排序之后的新流，需要元素类型实现Comparable</td><td>排序</td></tr><tr><td>12</td><td>sorted</td><td>Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator)</td><td>返回当前流中元素排序之后的新流，需要传递一个Comparator</td><td>排序</td></tr><tr><td>13</td><td>peek</td><td>Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action);</td><td>针对流中的每个元素执行操作action</td><td>查阅</td></tr><tr><td>14</td><td>limit</td><td>Stream&lt;T&gt; limit(long maxSize)</td><td>返回指定的数量的元素组成的新流</td><td>限制</td></tr><tr><td>15</td><td>skip</td><td>Stream&lt;T&gt; skip(long n)</td><td>返回第n个之后的元素组成的新流</td><td>跳过</td></tr></tbody></table><h3 id="fliter"><a href="#fliter" class="headerlink" title="fliter"></a>fliter</h3><p>filter方法是过滤器方法，针对的是流中所有元素，满足条件的元素将会被保留以组成新的流</p><p>filter方法的参数是Predicate类型，这个函数式接口用于获取一个参数返回一个boolean值，整个参数作为过滤条件</p><h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>map方法可以理解为函数，需要针对流中每个元素执行，然后将执行的结果组成新的流返回</p><p>map方法的参数类型为Function，该函数式接口用于接受一个参数，返回一个结果</p><p>mapToInt、mapToLong、mapToDouble方法是map方法的扩展，其参数分别为ToIntFunction、ToLongFunction、ToDoubleFunction，分别接口一个参数，返回指定类型的值，分别为int、long、double，那么定义方法的时候就要注意返回值的类型了，必须一致，最后组成的新流就是一个int或long或double元素流（IntStream、LongStream、DoubleStream）</p><h3 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h3><p>flatMap和map类似，都是针对流中每个元素进行操作，将结果组成新流，但flatMap含有一层扩展之意，就是当流中元素保护子元素时，通过该方法获取元素的子元素，并将子元素组成新流返回</p><p>flatMapToInt、flatMapToLong、flatMapToDouble类似于之前的mapToInt之类</p><h3 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h3><p>distinct方法用于去除流中重复元素</p><h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p>sorted方法用于对流中元素排序，当调用无参的sorted方法时，采用自然排序法排序，当使用指定比较器的方式时，可以自由指定排序规则</p><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p>limit方法用于从首个元素开始截取n个元素，组成新流返回</p><h3 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h3><p>skip方法用于跳过前n个元素，将剩余元素组成新流返回</p><h2 id="流终结操作"><a href="#流终结操作" class="headerlink" title="流终结操作"></a>流终结操作</h2><table><thead><tr><th>序号</th><th>操作</th><th>方法</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>1</td><td>forEach</td><td>void forEach(Consumer&lt;? super T&gt; action);</td><td>对流中的每个元素执行指定的操作action</td><td>遍历</td></tr><tr><td>2</td><td>forEachOrdered</td><td>void forEachOrdered(Consumer&lt;? super T&gt; action)</td><td>如果有序，则按序遍历流中元素，针对每个元素执行指定操作</td><td>按序遍历</td></tr><tr><td>3</td><td>toArray</td><td>Object[] toArray()</td><td>返回一个包含流中所有元素的数组</td><td>数组化</td></tr><tr><td>4</td><td>toArray</td><td>&lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator)</td><td>返回一个包含流中所有元素的参数指定类型的数组</td><td>数组化</td></tr><tr><td>5</td><td>reduce</td><td>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</td><td>以给定初始值为基础归纳流中元素，返回一个值</td><td>归纳</td></tr><tr><td>6</td><td>reduce</td><td>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</td><td>直接归纳流中的元素，返回一个封装有结果的Optional</td><td>归纳</td></tr><tr><td>7</td><td>reduce</td><td>&lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner);</td><td>以给定的初始值为基础，（并行）归纳流中元素，最后将各个线程的结果再统一归纳，返回一个值</td><td>归纳</td></tr><tr><td>8</td><td>collect</td><td>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector)</td><td>根据给定的收集器收集元素</td><td>归纳</td></tr><tr><td>9</td><td>collect</td><td>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner)</td><td>根据给定的各个参数归纳元素</td><td>归纳</td></tr><tr><td>10</td><td>max</td><td>Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator)</td><td>根据给定的比较器，返回流中最大元素的Optional表示</td><td>最大值</td></tr><tr><td>11</td><td>min</td><td>Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator)</td><td>根据给定的比较器，返回流中最小元素的Optional表示</td><td>最小值</td></tr><tr><td>12</td><td>count</td><td>long count()</td><td>返回流中元素的个数</td><td>计数</td></tr><tr><td>13</td><td>anyMatch</td><td>boolean anyMatch(Predicate&lt;? super T&gt; predicate)</td><td>校验流中是否有满足给定条件的元素</td><td>校验</td></tr><tr><td>14</td><td>allMatch</td><td>boolean allMatch(Predicate&lt;? super T&gt; predicate)</td><td>校验流中的元素是否全部满足给定条件</td><td>校验</td></tr><tr><td>15</td><td>noneMatch</td><td>boolean noneMatch(Predicate&lt;? super T&gt; predicate)</td><td>校验流中的元素是否全不满足给点条件</td><td>校验</td></tr><tr><td>16</td><td>findFirst</td><td>Optional&lt;T&gt; findFirst()</td><td>返回首个元素的Optional表示，如果为空流，返回空的Optional</td><td>返回首个元素</td></tr><tr><td>17</td><td>findAny</td><td>Optional&lt;T&gt; findAny()</td><td>如果流中有元素，则返回第一个元素的Optional表示，否则返回一个空的Optional</td><td>校验是否为空流</td></tr></tbody></table><h3 id="forEach和forEachOrdered"><a href="#forEach和forEachOrdered" class="headerlink" title="forEach和forEachOrdered"></a>forEach和forEachOrdered</h3><p>forEach就是遍历操作，对流中的每个元素做最后的操作</p><p>forEach并行遍历不保证顺序（顺序随机）,forEachOrdered是保证顺序来进行遍历的</p><h3 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h3><p>toArray有两个重载方法，一个是无参方法，一个有参方法</p><p>无参方法返回的只能是Object[]数组类型，而有参方法，可以指定结果数组类型，此乃二者区别</p><p>使用有参方法可以直接完成类型转换，一次到位</p><h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>reduce有三个重载方法，它们作用其实是一样的，就是归纳总结的意思</p><ul><li><p>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</p><p>参数accumulator是一个累加器，方法的作用是将这个累加器作用到流中的每一个元素需，要两个输入参数，有一个输出参数，意思是对两个元素执行某些操作，返回一个结果，然后将这个结果与下一个元素作为参数再输入该方法，执行操作后再返回一个新结果，以此类推，直到最后一个元素执行完毕，返回的就是最终结果，因为流中的元素我们是不确定的，那么我们就无法确定reduce的结果，因为如果流为空，那么将会返回null，所以使用Optional作为返回值，妥善处理null值</p></li><li><p>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</p><p>在上方法的基础上加了一个identity，且不使用Optional。原因是新加的identity是个初始值，后续操作都在这个初始值基础上进行，即使流中没有元素也不会返回null</p></li><li><p>&lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</p><p>在上方法的基础上又加了个参数combiner，这个方法用于处理并行流的归纳操作，最后的参数combiner用于归纳各个并行的结果</p></li></ul><h3 id="collect"><a href="#collect" class="headerlink" title="collect"></a>collect</h3><p>collect操作是Stream中最强大的方法了，几乎可以得到任何你想要的结果，collect方法有两个重载方法</p><ul><li><p>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner)</p><p>supplier用于生成一个R类型的结果容器来盛放结果，accumulator累加器用于定义盛放的方式，其中T为一个元素，R为结果容器，第三个参数combiner的作用是将并行操作的各个结果整合起来</p></li><li><p>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector</p><p>Collector是定义来承载一个收集器，但是JDK提供了一个Collectors工具类，在这个工具类里面预实现了N多的Collector供我们直接使用，之前的Collectors.toList()就是其用法之一</p></li></ul><h3 id="max和min"><a href="#max和min" class="headerlink" title="max和min"></a>max和min</h3><p>通过给定的比较器，得出流中最大\最小的元素，为避免null返回，这里使用Optional来封装返回值</p><h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><p>count是无参方法，用于计数，返回流中元素个数</p><h3 id="anyMatch"><a href="#anyMatch" class="headerlink" title="anyMatch"></a>anyMatch</h3><p>该方法需要一个Predicate参数，用于校验流中的元素，只要有一个满足规则，则返回true，全不满足，返回false</p><h3 id="allMatch"><a href="#allMatch" class="headerlink" title="allMatch"></a>allMatch</h3><p>该方法需要一个Predicate参数，用于校验流中的所有元素，只有全部满足规则才能返回true，只要有一个不满足则返回false</p><h3 id="noneMatch"><a href="#noneMatch" class="headerlink" title="noneMatch"></a>noneMatch</h3><p>该方法需要一个Predicate参数，用于校验流中的所有元素,只有所有元素都不满足规则的情况下返回true，否则返回false</p><h3 id="findFirst"><a href="#findFirst" class="headerlink" title="findFirst"></a>findFirst</h3><p>该方法无参数，主要用于获取流中的第一个元素，如果流无序，那么可能返回任意一个</p><h3 id="findAny"><a href="#findAny" class="headerlink" title="findAny"></a>findAny</h3><p>该方法无参数，主要用于获取流中的任一元素</p></div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束, 感谢您的阅读-------------</div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/03/16/31228/" rel="prev" title="Java8新特性：函数式编程"><i class="fa fa-chevron-left"></i> Java8新特性：函数式编程</a></div><div class="post-nav-item"><a href="/2020/03/16/29343/" rel="next" title="LeetCode题解(4)：寻找两个有序数组的中位数">LeetCode题解(4)：寻找两个有序数组的中位数 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><script>window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建流"><span class="nav-number">2.</span> <span class="nav-text">创建流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#流中间操作"><span class="nav-number">3.</span> <span class="nav-text">流中间操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#fliter"><span class="nav-number">3.1.</span> <span class="nav-text">fliter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-number">3.2.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flatMap"><span class="nav-number">3.3.</span> <span class="nav-text">flatMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#distinct"><span class="nav-number">3.4.</span> <span class="nav-text">distinct</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sorted"><span class="nav-number">3.5.</span> <span class="nav-text">sorted</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#limit"><span class="nav-number">3.6.</span> <span class="nav-text">limit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#skip"><span class="nav-number">3.7.</span> <span class="nav-text">skip</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#流终结操作"><span class="nav-number">4.</span> <span class="nav-text">流终结操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#forEach和forEachOrdered"><span class="nav-number">4.1.</span> <span class="nav-text">forEach和forEachOrdered</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#toArray"><span class="nav-number">4.2.</span> <span class="nav-text">toArray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reduce"><span class="nav-number">4.3.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#collect"><span class="nav-number">4.4.</span> <span class="nav-text">collect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#max和min"><span class="nav-number">4.5.</span> <span class="nav-text">max和min</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#count"><span class="nav-number">4.6.</span> <span class="nav-text">count</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#anyMatch"><span class="nav-number">4.7.</span> <span class="nav-text">anyMatch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#allMatch"><span class="nav-number">4.8.</span> <span class="nav-text">allMatch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#noneMatch"><span class="nav-number">4.9.</span> <span class="nav-text">noneMatch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#findFirst"><span class="nav-number">4.10.</span> <span class="nav-text">findFirst</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#findAny"><span class="nav-number">4.11.</span> <span class="nav-text">findAny</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Koishi" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">Koishi</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">48</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/huben2koishi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huben2koishi" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:1274641305@qq.com" title="E-Mail → mailto:1274641305@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Koishi</span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'neutral',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script type="text/javascript" src="/js/love.js"></script></body></html><!-- rebuild by neat -->