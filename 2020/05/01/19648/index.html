<!-- build time:Thu Sep 03 2020 22:08:05 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-koishi.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-koishi.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="baidu-site-verification" content="fIzroGZLqj"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://kaguya.top").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"gitalk",storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="本文详细介绍了正则表达式"><meta property="og:type" content="article"><meta property="og:title" content="正则表达式详解"><meta property="og:url" content="https://kaguya.top/2020/05/01/19648/index.html"><meta property="og:site_name" content="「 ディスコミュ星人 」"><meta property="og:description" content="本文详细介绍了正则表达式"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-05-01T03:33:33.000Z"><meta property="article:modified_time" content="2020-08-23T13:50:58.000Z"><meta property="article:author" content="Koishi"><meta property="article:tag" content="正则表达式"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://kaguya.top/2020/05/01/19648/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>正则表达式详解 | 「 ディスコミュ星人 」</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="「 ディスコミュ星人 」" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">「 ディスコミュ星人 」</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div><a href="https://github.com/huben2koishi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://kaguya.top/2020/05/01/19648/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Koishi"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="「 ディスコミュ星人 」"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">正则表达式详解</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-05-01 11:33:33" itemprop="dateCreated datePublished" datetime="2020-05-01T11:33:33+08:00">2020-05-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-08-23 21:50:58" itemprop="dateModified" datetime="2020-08-23T21:50:58+08:00">2020-08-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>5.4k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>5 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p><strong>正则表达式</strong>(regular expression)描述了一种字符串匹配的模式(pattern)，可以用来：</p><ul><li>检查一个字符串是否含有某种子字符串</li><li>将匹配的子字符串替换</li></ul><p>正则表达式是由普通字符（例如数字、字母或下划线）以及特殊字符（称为 <strong>元字符</strong>）组成的文字模式。描述在搜索文本时要匹配的一个或多个字符串。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配</p><h2 id="基本匹配"><a href="#基本匹配" class="headerlink" title="基本匹配"></a>基本匹配</h2><p>正则表达式其实就是在执行搜索时的格式，它由一些字母和数字组合而成</p><p>例如：一个正则表达式 <code>the</code>，它表示一个规则：由字母 <code>t</code> 开始，接着是 <code>h</code> ，再接着是 <code>e</code></p><blockquote><p><strong>the</strong> =&gt; The fat cat sat on <strong>the</strong> mat.</p></blockquote><p>正则表达式 <code>123</code> 匹配字符串 <code>123</code>。它逐个字符的与输入的正则表达式做比较</p><p>正则表达式是大小写敏感的，所以 <code>The</code> 不会匹配 <code>the</code></p><h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><p>正则表达式主要依赖于元字符。元字符不代表他们本身的字面意思，他们都有特殊的含义。一些元字符写在方括号中的时候有一些特殊的意思</p><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td><code>.</code></td><td>匹配除换行符 <code>\n</code> 之外的任何单字符</td></tr><tr><td><code>[]</code></td><td>字符种类。匹配方括号中不包含的字符</td></tr><tr><td><code>[^ ]</code></td><td>否定字符种类。匹配方括号中不包含的字符</td></tr><tr><td><code>*</code></td><td>匹配前面的子表达式零次或多次</td></tr><tr><td><code>+</code></td><td>匹配前面的子表达式一次或多次</td></tr><tr><td><code>?</code></td><td>匹配前面的子表达式零次或一次，或指明一个非贪婪限定符</td></tr><tr><td><code>{}</code></td><td>标记限定符表达式的开始和结束位置</td></tr><tr><td><code>()</code></td><td>标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用</td></tr><tr><td><code>|</code></td><td>或运算符，匹配符号前或后的字符</td></tr><tr><td><code>\</code></td><td>转义字符，用于匹配一些保留的字符 <code>[ ] ( ) { } . * + ? ^ $ \</code></td></tr><tr><td><code>^</code></td><td>匹配输入字符串的开始位置</td></tr><tr><td><code>$</code></td><td>匹配输入字符串的结尾位置</td></tr></tbody></table><h3 id="点运算符"><a href="#点运算符" class="headerlink" title="点运算符 ."></a>点运算符 <code>.</code></h3><p><code>.</code> 是元字符中最简单的例子。<code>.</code> 匹配任意单个字符，但不匹配换行符。例如，表达式 <code>.ar</code> 匹配一个任意字符后面跟着是 <code>a</code> 和 <code>r</code> 的字符串</p><blockquote><p><strong>.ar</strong> =&gt; The <strong>car</strong> parked in the <strong>gar</strong>age.</p></blockquote><h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><p>字符集也叫做字符类。方括号用来指定一个字符集。在方括号中使用连字符来指定字符集的范围。在方括号中的字符集不关心顺序。例如，表达式 <code>[Tt]he</code> 匹配 <code>the</code> 和 <code>The</code></p><blockquote><p><strong>[Tt]he</strong> =&gt; <strong>The</strong> car parked in <strong>the</strong> garage.</p></blockquote><p>方括号内的句号就表示句号。表达式 <code>ar[.]</code> 匹配 <code>ar.</code> 字符串</p><blockquote><p><strong>ar[.]</strong> =&gt; A garage is a good place to park a c<strong>ar.</strong></p></blockquote><h4 id="否定字符集"><a href="#否定字符集" class="headerlink" title="否定字符集"></a>否定字符集</h4><p>一般来说 <code>^</code> 表示一个字符串的开头，但它用在一个方括号的开头的时候，它表示这个字符集是否定的。例如，表达式 <code>[^c]ar</code> 匹配一个后面跟着 <code>ar</code> 的除了 <code>c</code> 的任意字符</p><blockquote><p><strong>[^c]ar</strong> =&gt; The car <strong>par</strong>ked in the <strong>gar</strong>age.</p></blockquote><h3 id="重复次数"><a href="#重复次数" class="headerlink" title="重复次数"></a>重复次数</h3><p>后面跟着元字符 <code>+</code>，<code>*</code> or <code>?</code> 的，用来指定匹配子模式的次数。这些元字符在不同的情况下有着不同的意思</p><h4 id="星号"><a href="#星号" class="headerlink" title="星号 *"></a>星号 <code>*</code></h4><p><code>*</code> 表示匹配上一个匹配规则的零次或多次。例如，表达式 <code>a*</code> 匹配0或多个以a开头的字符。表达式 <code>[a-z]*</code> 匹配一个行中所有以小写字母开头的字符串</p><blockquote><p><strong>[a-z]*</strong> =&gt; T<strong>he car parked in the garage</strong> #21.</p></blockquote><p><code>*</code> 字符和 <code>.</code> 字符搭配可以匹配所有的字符 <code>.*</code>。<code>*</code> 和表示匹配空格的符号 <code>\s</code> 连起来用，如表达式 <code>\s*cat\s*</code> 匹配0或更多个空格开头和0或更多个空格结尾的cat字符串</p><blockquote><p><strong>\s*cat\s*</strong> =&gt; The fat <strong>cat</strong> sat on the con<strong>cat</strong>enation.</p></blockquote><h4 id="加号"><a href="#加号" class="headerlink" title="加号 +"></a>加号 <code>+</code></h4><p><code>+</code> 表示匹配上一个字符的一次或多次。例如表达式 <code>c.+t</code> 匹配以首字母 <code>c</code> 开头以 <code>t</code> 结尾，中间跟着至少一个字符的字符串</p><blockquote><p><strong>c.+t</strong> =&gt; The fat <strong>cat sat on the mat</strong>.</p></blockquote><h4 id="问号"><a href="#问号" class="headerlink" title="问号 ?"></a>问号 <code>?</code></h4><p><code>?</code> 标记前面的字符为可选，该符号匹配前一个字符的零次或一次。例如，表达式 <code>[T]?he</code> 匹配字符串 <code>he</code> 和 <code>The</code></p><blockquote><p><strong>[T]he</strong> =&gt; <strong>The</strong> car is parked in the garage.<br><strong>[T]?he</strong> =&gt; <strong>The</strong> car is parked in t<strong>he</strong> garage.</p></blockquote><h3 id="花括号"><a href="#花括号" class="headerlink" title="花括号 {}"></a>花括号 <code>{}</code></h3><p>在正则表达式中 <code>{}</code> 是一个量词，常用来一个或一组字符重复出现的次数。例如， 表达式 <code>[0-9]{2,3}</code> 匹配最少2位最多3位 <code>0~9</code> 的数字</p><blockquote><p><strong>[0-9]{2,3}</strong> =&gt; The number was 9.<strong>999</strong>7 but we rounded it off to <strong>10</strong>.0.</p></blockquote><p>可以省略第二个参数。例如，<code>[0-9]{2,}</code> 匹配至少2位 <code>0~9</code> 的数字</p><blockquote><p><strong>[0-9]{2,}</strong> =&gt; The number was 9.<strong>9997</strong> but we rounded it off to <strong>10</strong>.0.</p></blockquote><p>如果逗号也省略掉则表示重复固定的次数。例如，<code>[0-9]{3}</code> 匹配3位数字</p><blockquote><p><strong>[0-9]{3}</strong> =&gt; The number was 9.<strong>999</strong>7 but we rounded it off to 10.0.</p></blockquote><h3 id="字符组"><a href="#字符组" class="headerlink" title="字符组 (...)"></a>字符组 <code>(...)</code></h3><p>字符组是一组写在圆括号中的子模式 <code>(...)</code>。例如之前把一个量词放在一个字符之后，它会重复前一个字符。 但是，如果我们把量词放在一个字符组之后，它会重复整个字符组。例如，表达式 <code>(ab)*</code> 匹配连续出现 0 或更多个 <code>ab</code></p><p>我们还可以在 <code>()</code> 中用或字符 <code>|</code> 表示或。例如，<code>(c|g|p)ar</code> 匹配 <code>car</code> 或 <code>gar</code> 或 <code>par</code></p><blockquote><p><strong>(c|g|p)ar</strong> =&gt; The <strong>car</strong> is <strong>par</strong>ked in the <strong>gar</strong>age.</p></blockquote><h3 id="或运算符"><a href="#或运算符" class="headerlink" title="或运算符 |"></a>或运算符 <code>|</code></h3><p>或运算符就表示或，用作判断条件</p><p>例如 <code>(T|t)he|car</code> 匹配 <code>(T|t)he</code> 或 <code>car</code></p><blockquote><p><strong>(T|t)he|car</strong> =&gt; <strong>The car</strong> is parked in <strong>the</strong> garage.</p></blockquote><h3 id="转义特殊字符"><a href="#转义特殊字符" class="headerlink" title="转义特殊字符 \"></a>转义特殊字符 <code>\</code></h3><p>反斜线 <code>\</code> 在表达式中用于转义紧跟其后的字符。这将允许你使用保留字符 <code>{ } [ ] / \ + * . $ ^ | ?</code> 来作为匹配字符。如果想要匹配这些特殊字符则要在其前面加上反斜线 <code>\</code></p><p>例如 <code>.</code> 是用来匹配除换行符外的所有字符的。如果想要匹配句子中的 <code>.</code> 则要写成 <code>\.</code> 以下这个例子 <code>\.?</code> 是选择性匹配 <code>.</code></p><blockquote><p><strong>(f|c|m)at.?</strong> =&gt; The <strong>fat cat</strong> sat on the <strong>mat.</strong></p></blockquote><h3 id="定位符"><a href="#定位符" class="headerlink" title="定位符"></a>定位符</h3><p>在正则表达式中，想要匹配指定开头或结尾的字符串就要使用到定位符。<code>^</code> 指定开头，<code>$</code> 指定结尾</p><h4 id="插入符号"><a href="#插入符号" class="headerlink" title="插入符号 ^"></a>插入符号 <code>^</code></h4><p>插入符号 <code>^</code> 用于检查匹配字符是否是输入字符串的第一个字符</p><p>例如，在 <code>abc</code> 中使用表达式 <code>^a</code> 会得到结果 <code>a</code>。但如果使用 <code>^b</code> 将匹配不到任何结果。因为在字符串 <code>abc</code> 中并不是以 <code>b</code> 开头</p><p>例如，<code>^(T|t)he</code> 匹配以 <code>The</code> 或 <code>the</code> 开头的字符串</p><blockquote><p><strong>(T|t)he</strong> =&gt; <strong>The</strong> car is parked in <strong>the</strong> garage.<br><strong>^(T|t)he</strong> =&gt; <strong>The</strong> car is parked in the garage.</p></blockquote><h4 id="美元符号"><a href="#美元符号" class="headerlink" title="美元符号 $"></a>美元符号 <code>$</code></h4><p>美元符号 <code>$</code> 用于检查匹配字符是否是输入字符串的最后一个字符</p><p>例如，<code>(at\.)$</code> 匹配以 <code>at.</code> 结尾的字符串</p><blockquote><p><strong>(at.)</strong> =&gt; The fat c<strong>at. sat.</strong> on the m<strong>at.</strong><br><strong>(at.)$</strong> =&gt; The fat cat. sat. on the m<strong>at.</strong></p></blockquote><h2 id="简写字符集"><a href="#简写字符集" class="headerlink" title="简写字符集"></a>简写字符集</h2><p>正则表达式为常用的字符集和常用的正则表达式提供了简写。这包括所有大写和小写字母、所有数字、所有标点符号和没有显式指定为元字符的所有可打印和不可打印字符</p><table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td><code>\d</code></td><td>匹配一个数字字符。等价于 <code>[0-9]</code></td></tr><tr><td><code>\D</code></td><td>匹配一个非数字字符。等价于 <code>[^0-9]</code></td></tr><tr><td><code>\w</code></td><td>匹配字母、数字、下划线。等价于 <code>[A-Za-z0-9_]</code></td></tr><tr><td><code>\W</code></td><td>匹配非字母、数字、下划线。等价于 <code>[^A-Za-z0-9_]</code></td></tr><tr><td><code>\cx</code></td><td>匹配由x指明的控制字符。例如， <code>\cM</code> 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 ‘c’ 字符</td></tr><tr><td><code>\f</code></td><td>匹配一个换页符。等价于 <code>\x0c</code> 和 <code>\cL</code></td></tr><tr><td><code>\n</code></td><td>匹配一个换行符。等价于 <code>\x0a</code> 和 <code>\cJ</code></td></tr><tr><td><code>\r</code></td><td>匹配一个回车符。等价于 <code>\x0d</code> 和 <code>\cM</code></td></tr><tr><td><code>\t</code></td><td>匹配一个制表符。等价于 <code>\x09</code> 和 <code>\cI</code></td></tr><tr><td><code>\v</code></td><td>匹配一个垂直制表符。等价于 <code>\x0b</code> 和 <code>\cK</code></td></tr><tr><td><code>\s</code></td><td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于 <code>[ \f\n\r\t\v]</code></td></tr><tr><td><code>\S</code></td><td>匹配任何非空白字符。等价于 <code>[^ \f\n\r\t\v]</code></td></tr><tr><td><code>\b</code></td><td>匹配一个字边界，即字与空格间的位置</td></tr><tr><td><code>\B</code></td><td>非字边界匹配</td></tr></tbody></table><h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><p>是特殊类型的 非捕获组 (用于匹配模式，但不包括在匹配列表中)。当我们在一种特定模式之前或者之后有这种模式时，会优先使用断言。 例如我们想获取输入字符串 $4.44 and $10.88 中带有前缀 $ 的所有数字。我们可以使用这个正则表达式 <code>(?&lt;=\$)[0-9\.]*</code>，表示: 获取包含 . 字符且前缀为 $ 的所有数字。 以下是正则表达式中使用的断言:</p><table><thead><tr><th>表达式</th><th>描述</th></tr></thead><tbody><tr><td><code>(exp)</code></td><td>匹配 exp 并获取这一匹配</td></tr><tr><td><code>(?:exp)</code></td><td>匹配 exp 但不获取匹配结果</td></tr><tr><td><code>(?=exp)</code></td><td>零宽度正预测先行断言，匹配后面跟的是exp的位置</td></tr><tr><td><code>(?!exp)</code></td><td>零宽度负预测先行断言，匹配后面跟的不是exp的位置</td></tr><tr><td><code>(?&lt;=exp)</code></td><td>零宽度正回顾后发断言，匹配前面是exp的位置</td></tr><tr><td><code>(?&lt;!exp)</code></td><td>零宽度负回顾后发断言，匹配前面不是exp的位置</td></tr></tbody></table><h3 id="正向先行断言"><a href="#正向先行断言" class="headerlink" title="正向先行断言 ?=..."></a>正向先行断言 <code>?=...</code></h3><p>正向先行断言表示第一部分表达式之后必须跟着 <code>?=...</code> 定义的表达式</p><p>返回结果只包含满足匹配条件的第一部分表达式。定义一个正先行断言要使用 <code>()</code>。在括号内部使用一个问号和等号： <code>(?=...)</code></p><p>正先行断言的内容写在括号中的等号后面。例如，表达式 <code>(T|t)he(?=\sfat)</code> 匹配 <code>The</code> 和 <code>the</code>，在括号中我们又定义了正先行断言 <code>(?=\sfat)</code> ，即 <code>The</code> 和 <code>the</code> 后面紧跟着 <code>(空格)fat</code></p><blockquote><p><strong>(T|t)he(?=\sfat)</strong> =&gt; <strong>The</strong> fat cat sat on the mat.</p></blockquote><h3 id="负向先行断言"><a href="#负向先行断言" class="headerlink" title="负向先行断言 ?!..."></a>负向先行断言 <code>?!...</code></h3><p>负向先行断言用于筛选所有匹配结果，筛选条件为其后不跟随着断言中定义的格式。<code>正先行断言</code> 定义和 <code>负向先行断言</code> 一样，区别就是 <code>=</code> 替换成 <code>!</code> 也就是 <code>(?!...)</code></p><p>表达式 <code>(T|t)he(?!\sfat)</code> 匹配 <code>The</code> 和 <code>the</code>，且其后不跟着 <code>(空格)fat</code></p><blockquote><p><strong>(T|t)he(?!\sfat)</strong> =&gt; The fat cat sat on <strong>the</strong> mat.</p></blockquote><h3 id="正向后发断言-lt"><a href="#正向后发断言-lt" class="headerlink" title="正向后发断言 ?&lt;=..."></a>正向后发断言 <code>?&lt;=...</code></h3><p>正向后发断言 记作 <code>(?&lt;=...)</code> 用于筛选所有匹配结果，筛选条件为 其前跟随着断言中定义的格式。例如，表达式 <code>(?&lt;=(T|t)he\s)(fat|mat)</code> 匹配 <code>fat</code> 和 <code>mat</code>，且其前跟着 <code>The</code> 或 <code>the</code></p><blockquote><p><strong>(?&lt;=(T|t)he\s)(fat|mat)</strong> =&gt; The <strong>fat</strong> cat sat on the <strong>mat</strong>.</p></blockquote><h3 id="负向后发断言-lt"><a href="#负向后发断言-lt" class="headerlink" title="负向后发断言 ?&lt;!..."></a>负向后发断言 <code>?&lt;!...</code></h3><p>负向后发断言 记作 <code>(?&lt;!...)</code> 用于筛选所有匹配结果，筛选条件为 其前不跟随着断言中定义的格式。例如，表达式 <code>(?&lt;!(T|t)he\s)(cat)</code> 匹配 <code>cat</code>，且其前不跟着 <code>The</code> 或 <code>the</code></p><blockquote><p><strong>(?&lt;!(T|t)he\s)(cat)</strong> =&gt; The cat sat on <strong>cat</strong>.</p></blockquote><h2 id="标志"><a href="#标志" class="headerlink" title="标志"></a>标志</h2><p>标志也叫模式修正符，因为它可以用来修改表达式的搜索结果。这些标志可以任意的组合使用，它也是整个正则表达式的一部分</p><table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td>i</td><td>忽略大小写</td></tr><tr><td>g</td><td>全局搜索</td></tr><tr><td>m</td><td>多行修饰符：锚点元字符 <code>^</code> <code>$</code> 工作范围在每行的起始</td></tr></tbody></table><h3 id="忽略大小写（Case-Insensitive）"><a href="#忽略大小写（Case-Insensitive）" class="headerlink" title="忽略大小写（Case Insensitive）"></a>忽略大小写（Case Insensitive）</h3><p>修饰符 <code>i</code> 用于忽略大小写。例如，表达式 <code>/The/gi</code> 表示在全局搜索 <code>The</code>，在后面的 <code>i</code> 将其条件修改为忽略大小写，则变成搜索 <code>the</code> 和 <code>The</code></p><blockquote><p><strong>The</strong> =&gt; <strong>The</strong> fat cat sat on the mat.<br><strong>/The/gi</strong> =&gt; <strong>The</strong> fat cat sat on <strong>the</strong> mat.</p></blockquote><h3 id="全局搜索（Global-search）"><a href="#全局搜索（Global-search）" class="headerlink" title="全局搜索（Global search）"></a>全局搜索（Global search）</h3><p>修饰符 <code>g</code> 用于执行全局搜索匹配，即不仅仅返回第一个匹配的，而是返回全部。例如，表达式 <code>/.(at)/g</code> 表示搜索任意字符（除了换行）+ <code>at</code>，并返回全部结果</p><blockquote><p><strong>/.(at)/</strong> =&gt; The <strong>fat</strong> cat sat on the mat.<br><strong>/.(at)/g</strong> =&gt; The <strong>fat cat sat</strong> on the <strong>mat</strong>.</p></blockquote><h3 id="多行修饰符（Multiline）"><a href="#多行修饰符（Multiline）" class="headerlink" title="多行修饰符（Multiline）"></a>多行修饰符（Multiline）</h3><p>修饰符 <code>m</code> 用于执行多行匹配</p><p>像之前介绍的 <code>(^,$)</code> 用于检查格式是否是在待检测字符串的开头或结尾。但我们如果想要它在每行的开头和结尾生效，我们需要用到多行修饰符 <code>m</code></p><p>例如，表达式 <code>/at(.)?$/gm</code> 表示小写字符 <code>a</code> 后跟小写字符 <code>t</code> ，末尾可选除换行符外任意字符。根据 <code>m</code> 修饰符，现在表达式匹配每行的结尾</p><blockquote><p><strong>/.at(.)?$/</strong> =&gt; The fat<br>cat sat<br>on the <strong>mat.</strong><br><strong>/.at(.)?$/gm</strong> =&gt; The <strong>fat</strong><br>cat <strong>sat</strong><br>on the <strong>mat.</strong></p></blockquote><h2 id="贪婪匹配与惰性匹配"><a href="#贪婪匹配与惰性匹配" class="headerlink" title="贪婪匹配与惰性匹配"></a>贪婪匹配与惰性匹配</h2><p>正则表达式默认采用贪婪匹配模式，在该模式下意味着会匹配尽可能长的子串。我们可以使用 <code>?</code> 将贪婪匹配模式转化为惰性匹配模式</p><blockquote><p><strong>/(.*at)/</strong> =&gt; <strong>The fat cat sat on the mat</strong>.<br><strong>/(.*?at)/</strong> =&gt; <strong>The fat</strong> cat sat on the mat.</p></blockquote><h2 id="其它元字符"><a href="#其它元字符" class="headerlink" title="其它元字符"></a>其它元字符</h2><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td><code>\xn</code></td><td>匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，<code>\x41</code> 匹配 <code>A</code>。<code>\x041</code> 则等价于 <code>\x04</code> + <code>1</code>。正则表达式中可以使用 ASCII 编码</td></tr><tr><td><code>\num</code></td><td>匹配 num，其中 num 是一个正整数。对所获取的匹配的引用。例如，<code>(.)\1</code> 匹配两个连续的相同字符</td></tr><tr><td><code>\n</code></td><td>标识一个八进制转义值或一个向后引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值</td></tr><tr><td><code>\nm</code></td><td>标识一个八进制转义值或一个向后引用。如果 \nm 之前至少有 nm 个获得子表达式，则 nm 为向后引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的向后引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm</td></tr><tr><td><code>\nml</code></td><td>如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml</td></tr><tr><td><code>\un</code></td><td>匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)</td></tr></tbody></table></div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束, 感谢您的阅读-------------</div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag"><i class="fa fa-tag"></i> 正则表达式</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/04/06/24826/" rel="prev" title="Redis基础知识(4)：发布订阅"><i class="fa fa-chevron-left"></i> Redis基础知识(4)：发布订阅</a></div><div class="post-nav-item"><a href="/2020/05/02/44074/" rel="next" title="常用的正则表达式">常用的正则表达式 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><script>window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#基本匹配"><span class="nav-number">1.</span> <span class="nav-text">基本匹配</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#元字符"><span class="nav-number">2.</span> <span class="nav-text">元字符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#点运算符"><span class="nav-number">2.1.</span> <span class="nav-text">点运算符 .</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符集"><span class="nav-number">2.2.</span> <span class="nav-text">字符集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重复次数"><span class="nav-number">2.3.</span> <span class="nav-text">重复次数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#花括号"><span class="nav-number">2.4.</span> <span class="nav-text">花括号 {}</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符组"><span class="nav-number">2.5.</span> <span class="nav-text">字符组 (...)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#或运算符"><span class="nav-number">2.6.</span> <span class="nav-text">或运算符 |</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转义特殊字符"><span class="nav-number">2.7.</span> <span class="nav-text">转义特殊字符 \</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定位符"><span class="nav-number">2.8.</span> <span class="nav-text">定位符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简写字符集"><span class="nav-number">3.</span> <span class="nav-text">简写字符集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#断言"><span class="nav-number">4.</span> <span class="nav-text">断言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#正向先行断言"><span class="nav-number">4.1.</span> <span class="nav-text">正向先行断言 ?&#x3D;...</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#负向先行断言"><span class="nav-number">4.2.</span> <span class="nav-text">负向先行断言 ?!...</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正向后发断言-lt"><span class="nav-number">4.3.</span> <span class="nav-text">正向后发断言 ?&lt;&#x3D;...</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#负向后发断言-lt"><span class="nav-number">4.4.</span> <span class="nav-text">负向后发断言 ?&lt;!...</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#标志"><span class="nav-number">5.</span> <span class="nav-text">标志</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#忽略大小写（Case-Insensitive）"><span class="nav-number">5.1.</span> <span class="nav-text">忽略大小写（Case Insensitive）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全局搜索（Global-search）"><span class="nav-number">5.2.</span> <span class="nav-text">全局搜索（Global search）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多行修饰符（Multiline）"><span class="nav-number">5.3.</span> <span class="nav-text">多行修饰符（Multiline）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#贪婪匹配与惰性匹配"><span class="nav-number">6.</span> <span class="nav-text">贪婪匹配与惰性匹配</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其它元字符"><span class="nav-number">7.</span> <span class="nav-text">其它元字符</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Koishi" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">Koishi</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">79</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/huben2koishi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;huben2koishi" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:1274641305@qq.com" title="E-Mail → mailto:1274641305@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Koishi</span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'neutral',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script type="text/javascript" src="/js/love.js"></script></body></html><!-- rebuild by neat -->